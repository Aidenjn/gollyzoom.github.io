<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">

    <title>My Hikes</title>
    <link rel="shortcut icon" href="img/favicon.png" type="image/png">

    <!-- Bootstrap core CSS -->
    <link href = "bootstrap-3.3.5-dist/css/bootstrap.min.css"rel="stylesheet">
      
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
      
    <script src="Chart.js-master/src/Chart.Core.js"></script>
    <script src="Chart.js-master/src/Chart.Doughnut.js"></script>
      
    <script src="https://cdn.firebase.com/js/client/2.2.7/firebase.js"></script>

    <!-- Custom styles for this template -->
    <link href="dashboard.css" rel="stylesheet">

    <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
    <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->
    <script src="bootstrap-3.3.5-dist/js/ie-emulation-modes-warning.js"></script>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>

  <body onload="searchHike()">

    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container-fluid">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#">Hiker</a>
        </div>
        <!--
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav navbar-right">
            <li><a href="addHike.html">New Hike</a></li>
            <li><a href="settings.html">Settings</a></li>
            <li><a href="profile.html">Profile</a></li>
          </ul>
          <form class="navbar-form navbar-right">
            <input type="text" class="form-control" placeholder="Search...">
          </form>
        </div>
        -->
      </div>
    </nav>
    
        <div class="col-sm-9 col-sm-offset-1 col-md-10 col-md-offset-1 main">
          <h1 class="page-header">Hike Now</h1>

          <div class="row placeholders">
            <div class="col-xs-6 col-sm-3 placeholder">
              <a class="btn btn-info btn-xl" title="" href="addHike.html">Create Hikes</a>
              
            </div>
            <div class="col-xs-6 col-sm-3 placeholder">
              <a class="btn btn-info btn-xl" title="" href="settings.html">Hike Settings</a>
              
            </div>
            <div class="col-xs-6 col-sm-3 placeholder">
              <a class="btn btn-info btn-xl" title="" href="carousel2.html">Join Hikes</a>
              
            </div>
          </div>
          <h2 class="sub-header">Current Hikes</h2>
          <!--<div class="table-responsive">
            <table class="table table-striped" id="canHikeTable">
              <thead>
                <tr>
                  <th>User-Id</th>
                  <th>State</th>
                  <th>Zip Code</th>
                  <th>Trail</th>
                  <th>Difficulty</th>
                  <th>comments</th>
                </tr>
              </thead>
              <tbody>
                
              </tbody>
            </table>
          </div>-->
            <div class="panel-group" id="accordion">
              <!--<div class="panel panel-default">
                <div class="panel-heading">
                  <h4 class="panel-title">
                    <a data-toggle="collapse" data-parent="#accordion" href="#collapse1"></a>
                  </h4>
                </div>
                <div id="collapse1" class="panel-collapse collapse in">
                  <div class="panel-body">Lorem ipsum dolor sit amet, consectetur adipisicing elit,
                  sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad
                  minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea
                  commodo consequat.</div>
                </div>
              </div>
              <div class="panel panel-default">
                <div class="panel-heading">
                  <h4 class="panel-title">
                    <a data-toggle="collapse" data-parent="#accordion" href="#collapse2">
                    Collapsible Group 2</a>
                  </h4>
                </div>
                <div id="collapse2" class="panel-collapse collapse">
                  <div class="panel-body">Lorem ipsum dolor sit amet, consectetur adipisicing elit,
                  sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad
                  minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea
                  commodo consequat.</div>
                </div>
              </div>
              <div class="panel panel-default">
                <div class="panel-heading">
                  <h4 class="panel-title">
                    <a data-toggle="collapse" data-parent="#accordion" href="#collapse3">
                    Collapsible Group 3</a>
                  </h4>
                </div>
                <div id="collapse3" class="panel-collapse collapse">
                  <div class="panel-body">Lorem ipsum dolor sit amet, consectetur adipisicing elit,
                  sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad
                  minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea
                  commodo consequat.</div>
                </div>
              </div>-->
            </div>
        </div>
      </div>
    </div>
    <script>
        var coll=4;
        function searchHike()
        {
            var states = new Array();
            var userId = sessionStorage.getItem("userData");
            var ref = new Firebase("https://testapp31415.firebaseio.com/users/"+userId+"/hikes");
            ref.once("value", function(snapshot) {
              
              snapshot.forEach(function(childSnapshot) 
              {
                var key = childSnapshot.key();
                specificHike(key);
              });
            });
        }
        function specificHike(key)
        {
            
            var hikeRef = new Firebase("https://testapp31415.firebaseio.com/hikes/"+key);
            hikeRef.on("value", function(snapshot) {
            var hikeNode = (snapshot.val());

            $('#accordion').append('<div class="panel panel-default"><div class="panel-heading"><h4 class="panel-title"><a id='+coll+' data-toggle="collapse" data-parent="#accordion" href="#collapse'+coll+'">'+hikeNode.trail+'</a></h4></div><div id=collapse'+coll+' class="panel-collapse collapse"><div class="panel-body">'+hikeNode.leaderName+hikeNode.comment+'</div></div></div>'); //'</td><td id=state>' + hikeNode.state + '</td><td id=zip>' + hikeNode.zip + '</td><td id=trail>' + hikeNode.trail + '</td><td id=type>' + hikeNode.type + '</td><td id= comment>'/*+ hikeNode.comment + '</td><td></tr>'*/);
            /*$('a').on('click',function(){
            var status = $(this).attr('id')
            console.log(status+'this is status');
            $(".panel-body").collapse('toggle');
            });*/
            coll++;
            
            }, function (errorObject) {
              console.log("The read failed: " + errorObject.code);
            });
        }
    </script>
    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="../../dist/js/bootstrap.min.js"></script>
    <!-- Just to make our placeholder images work. Don't actually copy the next line! -->
    <script src="../../assets/js/vendor/holder.min.js"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="../../assets/js/ie10-viewport-bug-workaround.js"></script>
  </body>
</html>
